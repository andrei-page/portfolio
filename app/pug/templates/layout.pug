block first-line
|
|
doctype html
html(lang='en')
	head
		title F L O W L
		meta(name="description" content="")
		include ../inc/head
	body
		.wrapper
			include ../utils/mixins
			include ../inc/header
			|
			|
			block main
			|
			|
			include ../inc/footer
		
		block scripts
			script(src='https://code.jquery.com/jquery-3.3.1.js', integrity='sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=', crossorigin='anonymous')
			<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.4/TweenMax.min.js"></script>
			script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js', integrity='sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl', crossorigin='anonymous')
			script(defer='', src='https://use.fontawesome.com/releases/v5.0.6/js/all.js')
			<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.js"></script>
			script(src='js/main.js')
			script(src='https://player.vimeo.com/api/player.js')
			script(src='https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js', integrity='sha256-399DNRyfIpWIy1ZV0KmEIIuIQ5sBHdLu9MBtVHrNtt8=', crossorigin='anonymous')
<script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.2/velocity.min.js"></script>
		
			<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
			
			


			script.
				(function($) {
				 
				  var SliceSlider = {
				    
				    /**
				     * Settings Object
				     */
				    settings: {
				      delta:              0,
				      currentSlideIndex:  0,
				      scrollThreshold:    50,
				      slides:             $('.slide'),
				      numSlides:          $('.slide').length,
				      navPrev:            $('.js-prev'),
				      navNext:            $('.js-next'),
				    },
				    
				    /**
				     * Init
				     */
				    init: function() {
				      s = this.settings;
				      this.bindEvents();

				    },
				    
				    /**
				     * Bind our click, scroll, key events
				     */
				    bindEvents: function(){
				      
				    
				      // On click prev
				      s.navPrev.on({
				        'click' : SliceSlider.prevSlide
				      });
				      // On click next
				      s.navNext.on({
				        'click' : SliceSlider.nextSlide
				      });
				      // On Arrow keys
				      $(document).keyup(function(e) {
				        // Left or back arrows
				        if ((e.which === 37) ||  (e.which === 38)){
				          SliceSlider.prevSlide();
				        }
				        // Down or right
				        if ((e.which === 39) ||  (e.which === 40)) {
				          SliceSlider.nextSlide();
				        }
				      });
				    },
				    
				    /** 
				     * Interept scroll direction
				     */
				    handleScroll: function(e){

				      // Scrolling up
				      if (e.originalEvent.detail < 0 || e.originalEvent.wheelDelta > 0) { 

				        s.delta--;
				     
				        if ( Math.abs(s.delta) >= s.scrollThreshold) {
				          SliceSlider.prevSlide();
				        }
				      }
				 
				      // Scrolling Down
				      else {
				 
				        s.delta++;
				 
				        if (s.delta >= s.scrollThreshold) {
				          SliceSlider.nextSlide();
				        }
				      }
				 
				      // Prevent page from scrolling
				      return false;
				    },

				    /**
				     * Show Slide
				     */
				    showSlide: function(){ 
				      // reset
				      s.delta = 0;
				      // Bail if we're already sliding
				      if ($('body').hasClass('is-sliding')){
				        return;
				      }
				      // Loop through our slides
				      s.slides.each(function(i, slide) {

				        // Toggle the is-active class to show slide
				        $(slide).toggleClass('is-active', (i === s.currentSlideIndex)); 
				        $(slide).toggleClass('is-prev', (i === s.currentSlideIndex - 1)); 
				        $(slide).toggleClass('is-next', (i === s.currentSlideIndex + 1)); 
				        
				        // Add and remove is-sliding class
				        $('body').addClass('is-sliding');

				        setTimeout(function(){
				            $('body').removeClass('is-sliding');
				        }, 1000);
				      });
				    },

				    /**
				     * Previous Slide
				     */
				    prevSlide: function(){
				      
				      // If on first slide, loop to last
				      if (s.currentSlideIndex <= 0) {
				        s.currentSlideIndex = s.numSlides;
				      }
				      s.currentSlideIndex--;
				      
				      SliceSlider.showSlide();
				    },

				    /**
				     * Next Slide
				     */
				    nextSlide: function(){
				      
				      s.currentSlideIndex++;
				   
				      // If on last slide, loop to first
				      if (s.currentSlideIndex >= s.numSlides) { 
				        s.currentSlideIndex = 0;
				      }
				 
				      SliceSlider.showSlide();
				    },
				  };
				  SliceSlider.init();
				})(jQuery);


